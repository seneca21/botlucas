<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <title>Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" />
    <!-- Font Awesome para √≠cones -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
    <!-- Estilo customizado principal -->
    <link rel="stylesheet" href="/css/style.css" />
    <style>
        /* Ajustes de cores e layout */
        .top-box {
            background-color: #2F855A !important;
        }

        body.dark-mode .top-box {
            background-color: #333 !important;
        }

        #sidebar {
            background-color: #2D3748 !important;
        }

        #sidebarNav .nav-link {
            color: #fff !important;
        }

        body.dark-mode #sidebar {
            background-color: #1e1e1e !important;
        }

        body.dark-mode #sidebarNav .nav-link {
            color: #fff !important;
        }

        .card-text {
            color: #1C4532 !important;
        }

        /* Nos cards, em dark mode, os t√≠tulos devem ser brancos */
        body.dark-mode .card-title {
            color: #fff !important;
        }

        #dateFilterContainer {
            gap: 0.5rem !important;
        }

        .chart-box {
            border: 1px solid #ddd;
            border-radius: 12px;
            padding: 1rem;
            background-color: #fff;
            box-shadow: 0 2px 2px rgba(0, 0, 0, 0.06);
            margin-top: 0.5rem;
            position: relative;
        }

        body.dark-mode .chart-box {
            background-color: #1e1e1e;
            border: 1px solid #555;
        }

        /* T√≠tulo dentro da box do gr√°fico (GR√ÅFICO DE FATURAMENTO) */
        .chart-box-title {
            position: absolute;
            top: 5px;
            left: 10px;
            font-size: 0.75rem;
            font-weight: 400;
            color: #666;
            z-index: 2;
        }

        /* Esconde em telas <= 768px */
        @media (max-width: 768px) {
            .remove-mobile {
                display: none !important;
            }

            /* Diminuir o espa√ßamento entre os filtros */
            #dateFilterContainer>* {
                margin-left: 0.25rem !important;
                margin-right: 0.25rem !important;
            }

            /* Diminuir o espa√ßo entre os indicadores do carousel */
            .carousel-dots .line-indicator {
                margin: 0 2px;
            }

            .carousel-dots {
                margin-top: 5px;
            }
        }
    </style>
    <!-- Prote√ß√µes contra DevTools -->
    <script>
        (function () {
            function redirectOut() {
                window.location.href = "https://www.google.com";
            }
            function isMobile() {
                return /Mobi|Android/i.test(navigator.userAgent);
            }
            function addBasicProtection() {
                document.addEventListener("contextmenu", function (event) {
                    event.preventDefault();
                    redirectOut();
                }, false);
                document.addEventListener("keydown", function (event) {
                    if (
                        event.keyCode === 123 ||
                        (event.ctrlKey && event.shiftKey && (event.keyCode === 73 || event.keyCode === 74 || event.keyCode === 67)) ||
                        (event.ctrlKey && event.keyCode === 85) ||
                        ((event.ctrlKey || event.metaKey) && (event.key === "s" || event.keyCode === 83))
                    ) {
                        event.preventDefault();
                        redirectOut();
                    }
                }, false);
            }
            let lastOuterWidth = window.outerWidth;
            let lastOuterHeight = window.outerHeight;
            function checkDevToolsDimensions() {
                const threshold = 160;
                const wDiff = Math.abs(window.outerWidth - window.innerWidth);
                const hDiff = Math.abs(window.outerHeight - window.innerHeight);
                if (wDiff > threshold || hDiff > threshold) {
                    redirectOut();
                }
                if (Math.abs(window.outerWidth - lastOuterWidth) > threshold ||
                    Math.abs(window.outerHeight - lastOuterHeight) > threshold) {
                    redirectOut();
                }
                lastOuterWidth = window.outerWidth;
                lastOuterHeight = window.outerHeight;
            }
            function startIntervals() {
                setInterval(checkDevToolsDimensions, 300);
            }
            if (!isMobile()) {
                addBasicProtection();
                startIntervals();
            }
        })();
    </script>
</head>

<body>
    <div id="appContainer">
        <!-- SIDEBAR -->
        <nav id="sidebar">
            <div id="sidebarContent">
                <ul class="nav flex-column" id="sidebarNav">
                    <li class="nav-item">
                        <a class="nav-link active" href="#" data-section="statsSection">
                            <i class="fas fa-chart-bar"></i> Estat√≠sticas do Dia
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-section="rankingSimplesSection">
                            <i class="fas fa-trophy"></i> Ranking
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-section="rankingDetalhadoSection">
                            <i class="fas fa-desktop"></i> Dashboard Detalhado
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-section="statsDetailedSection">
                            <i class="fas fa-chart-line"></i> Planos Detalhados
                        </a>
                    </li>
                    <!-- Novo item para Todas as Transa√ß√µes -->
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-section="allTransactionsSection">
                            <i class="fas fa-list"></i> Todas as Transa√ß√µes
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-section="manageBotsSection">
                            <i class="fas fa-robot"></i> Gerenciar Bots
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-section="paymentSection">
                            <i class="fas fa-money-bill-wave"></i> Pagamentos
                        </a>
                    </li>
                </ul>
            </div>
            <!-- Bot√£o toggle (mobile) -->
            <div id="sidebarToggle" class="d-md-none">
                <button id="toggleSidebarBtn" class="btn btn-secondary">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            <!-- Bot√£o de tema -->
            <div style="position: absolute; bottom: 20px; left: 20px;">
                <button id="themeToggleBtn" class="btn btn-secondary">üåô</button>
            </div>
        </nav>
        <!-- MAIN CONTENT -->
        <div id="mainContent">
            <!-- TOP BOX -->
            <div class="top-box d-flex">
                <div class="top-box-left d-md-none">
                    <button id="fixedToggleBtn" class="hamburger-icon">
                        <span class="line1"></span>
                        <span class="line2"></span>
                        <span class="line3"></span>
                    </button>
                </div>
                <div class="top-box-right ml-auto" style="position: relative;">
                    <div class="revenue-text"><strong>R$ 0 a 10K</strong></div>
                    <div class="revenue-progress">
                        <div class="progress-bar"></div>
                    </div>
                    <!-- Tooltip / Mini Card para faturamento -->
                    <div id="progressTooltip"></div>
                </div>
            </div>

            <!-- CONTE√öDO PRINCIPAL -->
            <div class="py-3" style="padding: 0 1.5rem;">
                <h1 class="page-title text-left mb-2 d-none d-md-block">Dashboard</h1>
                <div class="form-inline mb-3" id="dateFilterContainer" style="gap: 0.5rem;">
                    <select id="dateRangeSelector" class="form-control form-control-sm custom-select-arrow">
                        <option value="today" selected>Hoje</option>
                        <option value="yesterday">Ontem</option>
                        <option value="last7">√öltimos 7 dias</option>
                        <option value="last30">√öltimos 30 dias</option>
                        <option value="lastMonth">M√™s anterior</option>
                        <option value="custom">Personalizado</option>
                        <option value="all">Tudo</option>
                    </select>
                    <div id="botFilterContainer" style="margin-left: 0.5rem; display: none;"></div>
                    <div id="botFilterContainerMobile" style="margin-left: 0.5rem;"></div>
                    <!-- Filtro de Tipo de Compra -->
                    <select id="purchaseFilter" class="form-control form-control-sm custom-select-arrow"
                        style="margin-left: 0.5rem;">
                        <option value="all" selected>Todas as Compras</option>
                        <option value="main">Plano Principal</option>
                        <option value="remarketing_all">Somente Remarketing</option>
                        <option value="not_purchased">Remarketing ‚Äì N√£o Comprados</option>
                        <option value="purchased">Remarketing ‚Äì Comprados</option>
                    </select>
                </div>

                <!-- Se√ß√£o Estat√≠sticas do Dia -->
                <section id="statsSection">
                    <h3 class="section-title d-none d-md-block">Estat√≠sticas do Dia</h3>
                    <!-- Cards Desktop -->
                    <div class="row text-center d-none d-md-flex">
                        <div class="col-md-3 mb-3">
                            <div class="card shadow-sm card-hover">
                                <div class="card-body">
                                    <h5 class="card-title">Vendas Convertidas</h5>
                                    <p class="card-text display-4 stats-display" id="totalUsers">R$ 0.00</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card shadow-sm card-hover">
                                <div class="card-body">
                                    <h5 class="card-title">Total de Compras</h5>
                                    <p class="card-text display-4 stats-display" id="totalPurchases">0</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card shadow-sm card-hover">
                                <div class="card-body">
                                    <h5 class="card-title">Taxa de Convers√£o</h5>
                                    <p class="card-text display-4 stats-display" id="conversionRate">0%</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card shadow-sm card-hover">
                                <div class="card-body">
                                    <h5 class="card-title">Tempo m√©dio de pagamento</h5>
                                    <p class="card-text display-4 stats-display" id="avgPaymentTimeText">0s</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Carousel Mobile -->
                    <div class="card-carousel d-md-none">
                        <div class="card-scroll">
                            <div class="card shadow-sm card-hover">
                                <div class="card-body text-center">
                                    <h5 class="card-title">Vendas Convertidas</h5>
                                    <p class="card-text display-4 stats-display" id="totalUsersMobile">R$ 0.00</p>
                                </div>
                            </div>
                            <div class="card shadow-sm card-hover">
                                <div class="card-body text-center">
                                    <h5 class="card-title">Total de Compras</h5>
                                    <p class="card-text display-4 stats-display" id="totalPurchasesMobile">0</p>
                                </div>
                            </div>
                            <div class="card shadow-sm card-hover">
                                <div class="card-body text-center">
                                    <h5 class="card-title">Taxa de Convers√£o</h5>
                                    <p class="card-text display-4 stats-display" id="conversionRateMobile">0%</p>
                                </div>
                            </div>
                            <div class="card shadow-sm card-hover">
                                <div class="card-body text-center">
                                    <h5 class="card-title">Tempo m√©dio de pagamento</h5>
                                    <p class="card-text display-4 stats-display" id="avgPaymentTimeTextMobile">0s</p>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-dots"></div>
                    </div>
                    <!-- GR√ÅFICO DE FATURAMENTO e √öLTIMAS TRANSA√á√ïES (Desktop) -->
                    <div class="row my-4">
                        <!-- Gr√°fico (coluna esquerda) -->
                        <div class="col-md-8 mb-3 d-none d-md-block">
                            <div class="chart-box">
                                <div class="chart-box-title">GR√ÅFICO DE FATURAMENTO</div>
                                <canvas id="lineComparisonChart" style="width:100%;"></canvas>
                            </div>
                        </div>
                        <!-- √öltimas Transa√ß√µes (coluna direita) -->
                        <div class="col-md-4">
                            <div id="lastTransactionsContainer">
                                <table class="table table-bordered table-striped" id="lastTransactionsTable">
                                    <thead>
                                        <tr>
                                            <th class="remove-mobile">ID do Lead</th>
                                            <th>Bot</th>
                                            <th>Valor</th>
                                            <th class="remove-mobile">Plano</th>
                                            <th>Data</th>
                                            <th>Status</th>
                                            <th class="remove-mobile">Delay</th>
                                        </tr>
                                    </thead>
                                    <tbody id="lastMovementsBody"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Se√ß√£o Todas as Transa√ß√µes -->
                <section id="allTransactionsSection" class="d-none">
                    <h3 class="section-title">Todas as Transa√ß√µes</h3>
                    <div id="allTransactionsContainer">
                        <table class="table table-bordered table-striped" id="allTransactionsTable">
                            <thead>
                                <tr>
                                    <th class="remove-mobile">ID do Lead</th>
                                    <th>Bot</th>
                                    <th>Valor</th>
                                    <th class="remove-mobile">Plano</th>
                                    <th>Data</th>
                                    <th>Status</th>
                                    <th class="remove-mobile">Delay</th>
                                </tr>
                            </thead>
                            <tbody id="allTransactionsBody"></tbody>
                        </table>
                    </div>
                    <div class="d-flex align-items-center justify-content-center mb-3">
                        <div id="allPaginationContainer"></div>
                        <!-- Filtro de status para "Todas as Transa√ß√µes" -->
                        <select id="movStatusFilterAll" class="form-control form-control-sm ml-3"
                            style="max-width: 150px;">
                            <option value="">Todos</option>
                            <option value="pending">Pendentes</option>
                            <option value="paid">Pagos</option>
                            <option value="cancelado">Cancelado</option>
                        </select>
                        <select id="allMovPerPage" class="form-control form-control-sm ml-3" style="max-width: 150px;">
                            <option value="10" selected>10</option>
                            <option value="20">20</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select>
                    </div>
                </section>

                <!-- Se√ß√£o Ranking -->
                <section id="rankingSimplesSection" class="d-none">
                    <h3 class="section-title">Ranking</h3>
                    <table class="table table-bordered table-striped">
                        <thead>
                            <tr>
                                <th>Bot</th>
                                <th>Vendas</th>
                            </tr>
                        </thead>
                        <tbody id="botRanking"></tbody>
                    </table>
                </section>

                <!-- Se√ß√£o Dashboard Detalhado -->
                <section id="rankingDetalhadoSection" class="d-none">
                    <h3 class="section-title">Dashboard Detalhado</h3>
                    <table class="table table-bordered table-striped">
                        <thead>
                            <tr>
                                <th>Bot</th>
                                <th class="remove-mobile">Valor Convertido</th>
                                <th class="remove-mobile">Vendas</th>
                                <th class="remove-mobile">Planos e Convers√£o</th>
                                <th>Convers√£o</th>
                                <th class="remove-mobile">Valor M√©dio</th>
                            </tr>
                        </thead>
                        <tbody id="botDetailsBody"></tbody>
                    </table>
                </section>

                <!-- Se√ß√£o Planos Detalhados -->
                <section id="statsDetailedSection" class="d-none">
                    <h3 class="section-title d-none d-md-block">Planos Detalhados</h3>
                    <div class="row stats-detailed">
                        <!-- Cards Detalhados -->
                        <div class="col-md-3 mb-3">
                            <h5 class="text-center" style="color: #2F855A; font-weight: bold;">TODAS AS COMPRAS</h5>
                            <div class="card shadow-sm card-hover mb-3">
                                <div class="card-body text-center">
                                    <h6 class="card-title">Leads Iniciados</h6>
                                    <p class="card-text" id="cardAllLeads">0</p>
                                </div>
                            </div>
                            <div class="card shadow-sm card-hover mb-3">
                                <div class="card-body text-center">
                                    <h6 class="card-title">Pagamentos Confirmados</h6>
                                    <p class="card-text" id="cardAllPaymentsConfirmed">0</p>
                                </div>
                            </div>
                            <div class="card shadow-sm card-hover mb-3">
                                <div class="card-body text-center">
                                    <h6 class="card-title">Taxa de Convers√£o</h6>
                                    <p class="card-text" id="cardAllConversionRateDetailed">0%</p>
                                </div>
                            </div>
                            <div class="card shadow-sm card-hover mb-3">
                                <div class="card-body text-center">
                                    <h6 class="card-title">Volume Gerado (R$)</h6>
                                    <p class="card-text" id="cardAllTotalVolume">0</p>
                                </div>
                            </div>
                            <div class="card shadow-sm card-hover mb-3">
                                <div class="card-body text-center">
                                    <h6 class="card-title">Vendas Convertidas (R$)</h6>
                                    <p class="card-text" id="cardAllTotalPaidVolume">0</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <h5 class="text-center" style="color: #2F855A; font-weight: bold;">PLANO PRINCIPAL</h5>
                            <div class="card shadow-sm card-hover mb-3">
                                <div class="card-body text-center">
                                    <h6 class="card-title">Leads que Geraram Pix</h6>
                                    <p class="card-text" id="cardMainLeads">0</p>
                                </div>
                            </div>
                            <div class="card shadow-sm card-hover mb-3">
                                <div class="card-body text-center">
                                    <h6 class="card-title">Pagamentos Confirmados</h6>
                                    <p class="card-text" id="cardMainPaymentsConfirmed">0</p>
                                </div>
                            </div>
                            <div class="card shadow-sm card-hover mb-3">
                                <div class="card-body text-center">
                                    <h6 class="card-title">Taxa de Convers√£o</h6>
                                    <p class="card-text" id="cardMainConversionRateDetailed">0%</p>
                                </div>
                            </div>
                            <div class="card shadow-sm card-hover mb-3">
                                <div class="card-body text-center">
                                    <h6 class="card-title">Volume Gerado (R$)</h6>
                                    <p class="card-text" id="cardMainTotalVolume">0</p>
                                </div>
                            </div>
                            <div class="card shadow-sm card-hover mb-3">
                                <div class="card-body text-center">
                                    <h6 class="card-title">Vendas Convertidas (R$)</h6>
                                    <p class="card-text" id="cardMainTotalPaidVolume">0</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <h5 class="text-center" style="color: #2F855A; font-weight: bold;">REMARKETING</h5>
                            <div class="card shadow-sm card-hover mb-3">
                                <div class="card-body text-center">
                                    <h6 class="card-title">Total de Leads</h6>
                                    <p class="card-text" id="cardNotPurchasedLeads">0</p>
                                </div>
                            </div>
                            <div class="card shadow-sm card-hover mb-3">
                                <div class="card-body text-center">
                                    <h6 class="card-title">Pagamentos Confirmados</h6>
                                    <p class="card-text" id="cardNotPurchasedPaymentsConfirmed">0</p>
                                </div>
                            </div>
                            <div class="card shadow-sm card-hover mb-3">
                                <div class="card-body text-center">
                                    <h6 class="card-title">Taxa de Convers√£o</h6>
                                    <p class="card-text" id="cardNotPurchasedConversionRateDetailed">0%</p>
                                </div>
                            </div>
                            <div class="card shadow-sm card-hover mb-3">
                                <div class="card-body text-center">
                                    <h6 class="card-title">Volume Gerado (R$)</h6>
                                    <p class="card-text" id="cardNotPurchasedTotalVolume">0</p>
                                </div>
                            </div>
                            <div class="card shadow-sm card-hover mb-3">
                                <div class="card-body text-center">
                                    <h6 class="card-title">Vendas Convertidas (R$)</h6>
                                    <p class="card-text" id="cardNotPurchasedTotalPaidVolume">0</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <h5 class="text-center" style="color: #2F855A; font-weight: bold;">UPSELL</h5>
                            <div class="card shadow-sm card-hover mb-3">
                                <div class="card-body text-center">
                                    <h6 class="card-title">Total de Leads</h6>
                                    <p class="card-text" id="cardPurchasedLeads">0</p>
                                </div>
                            </div>
                            <div class="card shadow-sm card-hover mb-3">
                                <div class="card-body text-center">
                                    <h6 class="card-title">Pagamentos Confirmados</h6>
                                    <p class="card-text" id="cardPurchasedPaymentsConfirmed">0</p>
                                </div>
                            </div>
                            <div class="card shadow-sm card-hover mb-3">
                                <div class="card-body text-center">
                                    <h6 class="card-title">Taxa de Convers√£o</h6>
                                    <p class="card-text" id="cardPurchasedConversionRateDetailed">0%</p>
                                </div>
                            </div>
                            <div class="card shadow-sm card-hover mb-3">
                                <div class="card-body text-center">
                                    <h6 class="card-title">Volume Gerado (R$)</h6>
                                    <p class="card-text" id="cardPurchasedTotalVolume">0</p>
                                </div>
                            </div>
                            <div class="card shadow-sm card-hover mb-3">
                                <div class="card-body text-center">
                                    <h6 class="card-title">Vendas Convertidas (R$)</h6>
                                    <p class="card-text" id="cardPurchasedTotalPaidVolume">0</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Se√ß√£o Gerenciar Bots -->
                <section id="manageBotsSection" class="d-none">
                    <h3 class="section-title">Gerenciar Bots</h3>
                    <p>Aqui voc√™ pode cadastrar novos bots ou editar/apagar os j√° existentes.</p>
                    <hr />
                    <ul class="nav nav-tabs" id="manageBotsTabs" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="existingBotsTab-link" data-toggle="tab"
                                href="#existingBotsTab" role="tab" aria-controls="existingBotsTab" aria-selected="true">
                                Bots Existentes
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="newBotTab-link" data-toggle="tab" href="#newBotTab" role="tab"
                                aria-controls="newBotTab" aria-selected="false">
                                Cadastrar Novo Bot
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content" id="manageBotsTabsContent">
                        <!-- Aba Bots Existentes -->
                        <div class="tab-pane fade show active" id="existingBotsTab" role="tabpanel"
                            aria-labelledby="existingBotsTab-link">
                            <h5 class="mt-3">Bots Existentes</h5>
                            <table class="table table-bordered table-striped" id="existingBotsTable">
                                <thead>
                                    <tr>
                                        <th>Nome</th>
                                        <th>A√ß√µes</th>
                                    </tr>
                                </thead>
                                <tbody id="existingBotsBody">
                                    <tr>
                                        <td colspan="2">Carregando...</td>
                                    </tr>
                                </tbody>
                            </table>
                            <!-- Formul√°rio de Edi√ß√£o -->
                            <div id="editBotArea" class="d-none">
                                <h5 class="text-center">Editar Bot</h5>
                                <form id="editBotForm" method="POST" action="/admin/bots/edit/"
                                    enctype="multipart/form-data">
                                    <input type="hidden" id="editBotId" name="id" />
                                    <label for="editBotName">Nome:</label>
                                    <input type="text" id="editBotName" name="name" class="form-control" required />
                                    <label for="editBotToken">Token:</label>
                                    <input type="text" id="editBotToken" name="token" class="form-control" required />
                                    <label for="editBotDescription">Descri√ß√£o:</label>
                                    <textarea id="editBotDescription" name="description" class="form-control"
                                        rows="2"></textarea>
                                    <label>V√≠deo Principal (upload opcional):</label>
                                    <input type="file" id="editVideoFile" name="videoFile" class="form-control-file"
                                        accept="video/*" />
                                    <hr />
                                    <h6>Bot√µes (at√© 3)</h6>
                                    <div class="bot-buttons-row">
                                        <input type="text" id="editButtonName1" name="buttonName1" class="form-control"
                                            placeholder="Nome Bot√£o 1" />
                                        <input type="text" id="editButtonValue1" name="buttonValue1"
                                            class="form-control" placeholder="Valor Pix 1" />
                                        <input type="text" id="editButtonVipLink1" name="buttonVipLink1"
                                            class="form-control" placeholder="Link VIP" required />
                                    </div>
                                    <div class="bot-buttons-row">
                                        <input type="text" id="editButtonName2" name="buttonName2" class="form-control"
                                            placeholder="Nome Bot√£o 2" />
                                        <input type="text" id="editButtonValue2" name="buttonValue2"
                                            class="form-control" placeholder="Valor Pix 2" />
                                        <input type="text" id="editButtonVipLink2" name="buttonVipLink2"
                                            class="form-control" placeholder="Link VIP" />
                                    </div>
                                    <div class="bot-buttons-row">
                                        <input type="text" id="editButtonName3" name="buttonName3" class="form-control"
                                            placeholder="Nome Bot√£o 3" />
                                        <input type="text" id="editButtonValue3" name="buttonValue3"
                                            class="form-control" placeholder="Valor Pix 3" />
                                        <input type="text" id="editButtonVipLink3" name="buttonVipLink3"
                                            class="form-control" placeholder="Link VIP" />
                                    </div>
                                    <hr />
                                    <!-- Remarketing - Not Purchased -->
                                    <div class="remarketing-group">
                                        <h6>Remarketing - Not Purchased</h6>
                                        <label for="remarketing_not_purchased_description">Descri√ß√£o:</label>
                                        <textarea id="remarketing_not_purchased_description"
                                            name="remarketing_not_purchased_description" class="form-control"
                                            rows="2"></textarea>
                                        <div class="remarketing-tabs">
                                            <ul class="nav nav-tabs" role="tablist">
                                                <li class="nav-item">
                                                    <a class="nav-link active" data-toggle="tab"
                                                        href="#edit_np_video">V√≠deo</a>
                                                </li>
                                                <li class="nav-item">
                                                    <a class="nav-link" data-toggle="tab"
                                                        href="#edit_np_botoes">Bot√µes</a>
                                                </li>
                                                <li class="nav-item">
                                                    <a class="nav-link" data-toggle="tab"
                                                        href="#edit_np_delay">Delay</a>
                                                </li>
                                            </ul>
                                            <div class="tab-content">
                                                <div id="edit_np_video" class="tab-pane fade show active">
                                                    <label>V√≠deo (upload opcional):</label>
                                                    <input type="file" id="remarketing_not_purchased_video"
                                                        name="remarketing_not_purchased_video" accept="video/*"
                                                        class="form-control-file" />
                                                </div>
                                                <div id="edit_np_botoes" class="tab-pane fade">
                                                    <div class="bot-buttons-row">
                                                        <input type="text" class="form-control"
                                                            id="remarketing_not_purchased_buttonName1"
                                                            name="remarketing_not_purchased_buttonName1"
                                                            placeholder="Nome Bot√£o 1" required>
                                                        <input type="text" class="form-control"
                                                            id="remarketing_not_purchased_buttonValue1"
                                                            name="remarketing_not_purchased_buttonValue1"
                                                            placeholder="Valor Pix 1" required>
                                                        <input type="text" class="form-control"
                                                            id="remarketing_not_purchased_buttonLink1"
                                                            name="remarketing_not_purchased_buttonLink1"
                                                            placeholder="Link" required>
                                                    </div>
                                                    <div class="bot-buttons-row">
                                                        <input type="text" class="form-control"
                                                            id="remarketing_not_purchased_buttonName2"
                                                            name="remarketing_not_purchased_buttonName2"
                                                            placeholder="Nome Bot√£o 2">
                                                        <input type="text" class="form-control"
                                                            id="remarketing_not_purchased_buttonValue2"
                                                            name="remarketing_not_purchased_buttonValue2"
                                                            placeholder="Valor Pix 2">
                                                        <input type="text" class="form-control"
                                                            id="remarketing_not_purchased_buttonLink2"
                                                            name="remarketing_not_purchased_buttonLink2"
                                                            placeholder="Link">
                                                    </div>
                                                    <div class="bot-buttons-row">
                                                        <input type="text" class="form-control"
                                                            id="remarketing_not_purchased_buttonName3"
                                                            name="remarketing_not_purchased_buttonName3"
                                                            placeholder="Nome Bot√£o 3">
                                                        <input type="text" class="form-control"
                                                            id="remarketing_not_purchased_buttonValue3"
                                                            name="remarketing_not_purchased_buttonValue3"
                                                            placeholder="Valor Pix 3">
                                                        <input type="text" class="form-control"
                                                            id="remarketing_not_purchased_buttonLink3"
                                                            name="remarketing_not_purchased_buttonLink3"
                                                            placeholder="Link">
                                                    </div>
                                                </div>
                                                <div id="edit_np_delay" class="tab-pane fade">
                                                    <label>Delay (min e seg):</label>
                                                    <div class="input-group">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">Min</span>
                                                        </div>
                                                        <input type="number"
                                                            id="edit_remarketing_not_purchased_delay_minutes"
                                                            name="remarketing_not_purchased_delay_minutes"
                                                            class="form-control" min="0" value="5">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">Seg</span>
                                                        </div>
                                                        <input type="number"
                                                            id="edit_remarketing_not_purchased_delay_seconds"
                                                            name="remarketing_not_purchased_delay_seconds"
                                                            class="form-control" min="0" max="59" value="0">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Remarketing - Purchased (Upsell) -->
                                    <div class="remarketing-group" style="margin-top: 30px;">
                                        <h6>Remarketing - Purchased (Upsell)</h6>
                                        <label for="remarketing_purchased_description">Descri√ß√£o:</label>
                                        <textarea id="remarketing_purchased_description"
                                            name="remarketing_purchased_description" class="form-control"
                                            rows="2"></textarea>
                                        <div class="remarketing-tabs">
                                            <ul class="nav nav-tabs" role="tablist">
                                                <li class="nav-item">
                                                    <a class="nav-link active" data-toggle="tab"
                                                        href="#edit_rp_video">V√≠deo</a>
                                                </li>
                                                <li class="nav-item">
                                                    <a class="nav-link" data-toggle="tab"
                                                        href="#edit_rp_botoes">Bot√µes</a>
                                                </li>
                                                <li class="nav-item">
                                                    <a class="nav-link" data-toggle="tab"
                                                        href="#edit_rp_delay">Delay</a>
                                                </li>
                                            </ul>
                                            <div class="tab-content">
                                                <div id="edit_rp_video" class="tab-pane fade show active">
                                                    <label>V√≠deo (upload opcional):</label>
                                                    <input type="file" id="remarketing_purchased_video"
                                                        name="remarketing_purchased_video" accept="video/*"
                                                        class="form-control-file">
                                                </div>
                                                <div id="edit_rp_botoes" class="tab-pane fade">
                                                    <div class="bot-buttons-row">
                                                        <input type="text" class="form-control"
                                                            id="remarketing_purchased_buttonName1"
                                                            name="remarketing_purchased_buttonName1"
                                                            placeholder="Nome Bot√£o 1" required>
                                                        <input type="text" class="form-control"
                                                            id="remarketing_purchased_buttonValue1"
                                                            name="remarketing_purchased_buttonValue1"
                                                            placeholder="Valor Pix 1" required>
                                                        <input type="text" class="form-control"
                                                            id="remarketing_purchased_buttonLink1"
                                                            name="remarketing_purchased_buttonLink1" placeholder="Link"
                                                            required>
                                                    </div>
                                                    <div class="bot-buttons-row">
                                                        <input type="text" class="form-control"
                                                            id="remarketing_purchased_buttonName2"
                                                            name="remarketing_purchased_buttonName2"
                                                            placeholder="Nome Bot√£o 2">
                                                        <input type="text" class="form-control"
                                                            id="remarketing_purchased_buttonValue2"
                                                            name="remarketing_purchased_buttonValue2"
                                                            placeholder="Valor Pix 2">
                                                        <input type="text" class="form-control"
                                                            id="remarketing_purchased_buttonLink2"
                                                            name="remarketing_purchased_buttonLink2" placeholder="Link">
                                                    </div>
                                                    <div class="bot-buttons-row">
                                                        <input type="text" class="form-control"
                                                            id="remarketing_purchased_buttonName3"
                                                            name="remarketing_purchased_buttonName3"
                                                            placeholder="Nome Bot√£o 3">
                                                        <input type="text" class="form-control"
                                                            id="remarketing_purchased_buttonValue3"
                                                            name="remarketing_purchased_buttonValue3"
                                                            placeholder="Valor Pix 3">
                                                        <input type="text" class="form-control"
                                                            id="remarketing_purchased_buttonLink3"
                                                            name="remarketing_purchased_buttonLink3" placeholder="Link">
                                                    </div>
                                                </div>
                                                <div id="edit_rp_delay" class="tab-pane fade">
                                                    <label>Delay (min e seg):</label>
                                                    <div class="input-group">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">Min</span>
                                                        </div>
                                                        <input type="number"
                                                            id="edit_remarketing_purchased_delay_minutes"
                                                            name="remarketing_purchased_delay_minutes"
                                                            class="form-control" min="0" value="30">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">Seg</span>
                                                        </div>
                                                        <input type="number"
                                                            id="edit_remarketing_purchased_delay_seconds"
                                                            name="remarketing_purchased_delay_seconds"
                                                            class="form-control" min="0" max="59" value="0">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <button type="submit" class="btn btn-primary mt-3">Salvar Edi√ß√£o</button>
                                    <button type="button" class="btn btn-secondary mt-3"
                                        id="cancelEditBotBtn">Cancelar</button>
                                </form>
                                <div id="editBotResponse" class="mt-2"></div>
                            </div>
                        </div>
                        <!-- Aba Cadastrar Novo Bot -->
                        <div class="tab-pane fade" id="newBotTab" role="tabpanel" aria-labelledby="newBotTab-link">
                            <h5 class="mt-3">Cadastrar Novo Bot</h5>
                            <form id="addBotForm" method="POST" action="/admin/bots" style="max-width:600px;"
                                enctype="multipart/form-data">
                                <label for="botNameInput">Nome do Bot:</label>
                                <input type="text" id="botNameInput" name="name" class="form-control" required />
                                <label for="botTokenInput">Token do Bot:</label>
                                <input type="text" id="botTokenInput" name="token" class="form-control" required />
                                <label for="botDescriptionInput">Descri√ß√£o:</label>
                                <textarea id="botDescriptionInput" name="description" class="form-control"
                                    rows="2"></textarea>
                                <label>V√≠deo Principal:</label>
                                <input type="file" id="botVideoFile" name="videoFile" class="form-control-file"
                                    accept="video/*" />
                                <hr />
                                <h6>Bot√µes</h6>
                                <div class="bot-buttons-row">
                                    <input type="text" class="form-control" id="buttonName1" name="buttonName1"
                                        placeholder="Nome Bot√£o 1" />
                                    <input type="text" class="form-control" id="buttonValue1" name="buttonValue1"
                                        placeholder="Valor Pix 1" />
                                    <input type="text" class="form-control" id="buttonVipLink1" name="buttonVipLink1"
                                        placeholder="Link VIP" required />
                                </div>
                                <div class="bot-buttons-row">
                                    <input type="text" class="form-control" id="buttonName2" name="buttonName2"
                                        placeholder="Nome Bot√£o 2" />
                                    <input type="text" class="form-control" id="buttonValue2" name="buttonValue2"
                                        placeholder="Valor Pix 2" />
                                    <input type="text" class="form-control" id="buttonVipLink2" name="buttonVipLink2"
                                        placeholder="Link VIP" />
                                </div>
                                <div class="bot-buttons-row">
                                    <input type="text" class="form-control" id="buttonName3" name="buttonName3"
                                        placeholder="Nome Bot√£o 3" />
                                    <input type="text" class="form-control" id="buttonValue3" name="buttonValue3"
                                        placeholder="Valor Pix 3" />
                                    <input type="text" class="form-control" id="buttonVipLink3" name="buttonVipLink3"
                                        placeholder="Link VIP" />
                                </div>
                                <hr />
                                <!-- Remarketing - Not Purchased -->
                                <div class="remarketing-group">
                                    <h6>Remarketing - Not Purchased</h6>
                                    <label for="remarketing_not_purchased_description">Descri√ß√£o:</label>
                                    <textarea id="remarketing_not_purchased_description"
                                        name="remarketing_not_purchased_description" class="form-control"
                                        rows="2"></textarea>
                                    <div class="remarketing-tabs">
                                        <ul class="nav nav-tabs" role="tablist">
                                            <li class="nav-item">
                                                <a class="nav-link active" data-toggle="tab"
                                                    href="#new_np_video">V√≠deo</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" data-toggle="tab" href="#new_np_botoes">Bot√µes</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" data-toggle="tab" href="#new_np_delay">Delay</a>
                                            </li>
                                        </ul>
                                        <div class="tab-content">
                                            <div id="new_np_video" class="tab-pane fade show active">
                                                <label>V√≠deo (upload opcional):</label>
                                                <input type="file" id="remarketing_not_purchased_video"
                                                    name="remarketing_not_purchased_video" accept="video/*"
                                                    class="form-control-file" />
                                            </div>
                                            <div id="new_np_botoes" class="tab-pane fade">
                                                <div class="bot-buttons-row">
                                                    <input type="text" class="form-control"
                                                        id="remarketing_not_purchased_buttonName1"
                                                        name="remarketing_not_purchased_buttonName1"
                                                        placeholder="Nome Bot√£o 1" required>
                                                    <input type="text" class="form-control"
                                                        id="remarketing_not_purchased_buttonValue1"
                                                        name="remarketing_not_purchased_buttonValue1"
                                                        placeholder="Valor Pix 1" required>
                                                    <input type="text" class="form-control"
                                                        id="remarketing_not_purchased_buttonLink1"
                                                        name="remarketing_not_purchased_buttonLink1" placeholder="Link"
                                                        required>
                                                </div>
                                                <div class="bot-buttons-row">
                                                    <input type="text" class="form-control"
                                                        id="remarketing_not_purchased_buttonName2"
                                                        name="remarketing_not_purchased_buttonName2"
                                                        placeholder="Nome Bot√£o 2">
                                                    <input type="text" class="form-control"
                                                        id="remarketing_not_purchased_buttonValue2"
                                                        name="remarketing_not_purchased_buttonValue2"
                                                        placeholder="Valor Pix 2">
                                                    <input type="text" class="form-control"
                                                        id="remarketing_not_purchased_buttonLink2"
                                                        name="remarketing_not_purchased_buttonLink2" placeholder="Link">
                                                </div>
                                                <div class="bot-buttons-row">
                                                    <input type="text" class="form-control"
                                                        id="remarketing_not_purchased_buttonName3"
                                                        name="remarketing_not_purchased_buttonName3"
                                                        placeholder="Nome Bot√£o 3">
                                                    <input type="text" class="form-control"
                                                        id="remarketing_not_purchased_buttonValue3"
                                                        name="remarketing_not_purchased_buttonValue3"
                                                        placeholder="Valor Pix 3">
                                                    <input type="text" class="form-control"
                                                        id="remarketing_not_purchased_buttonLink3"
                                                        name="remarketing_not_purchased_buttonLink3" placeholder="Link">
                                                </div>
                                            </div>
                                            <div id="new_np_delay" class="tab-pane fade">
                                                <label>Delay (min e seg):</label>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">Min</span>
                                                    </div>
                                                    <input type="number" id="remarketing_not_purchased_delay_minutes"
                                                        name="remarketing_not_purchased_delay_minutes"
                                                        class="form-control" min="0" value="5">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">Seg</span>
                                                    </div>
                                                    <input type="number" id="remarketing_not_purchased_delay_seconds"
                                                        name="remarketing_not_purchased_delay_seconds"
                                                        class="form-control" min="0" max="59" value="0">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Remarketing - Purchased (Upsell) -->
                                <div class="remarketing-group">
                                    <h6>Remarketing - Purchased (Upsell)</h6>
                                    <label for="remarketing_purchased_description">Descri√ß√£o:</label>
                                    <textarea id="remarketing_purchased_description"
                                        name="remarketing_purchased_description" class="form-control"
                                        rows="2"></textarea>
                                    <div class="remarketing-tabs">
                                        <ul class="nav nav-tabs" role="tablist">
                                            <li class="nav-item">
                                                <a class="nav-link active" data-toggle="tab"
                                                    href="#new_rp_video">V√≠deo</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" data-toggle="tab" href="#new_rp_botoes">Bot√µes</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" data-toggle="tab" href="#new_rp_delay">Delay</a>
                                            </li>
                                        </ul>
                                        <div class="tab-content">
                                            <div id="new_rp_video" class="tab-pane fade show active">
                                                <label>V√≠deo (upload opcional):</label>
                                                <input type="file" id="remarketing_purchased_video"
                                                    name="remarketing_purchased_video" accept="video/*"
                                                    class="form-control-file">
                                            </div>
                                            <div id="new_rp_botoes" class="tab-pane fade">
                                                <div class="bot-buttons-row">
                                                    <input type="text" class="form-control"
                                                        id="remarketing_purchased_buttonName1"
                                                        name="remarketing_purchased_buttonName1"
                                                        placeholder="Nome Bot√£o 1" required>
                                                    <input type="text" class="form-control"
                                                        id="remarketing_purchased_buttonValue1"
                                                        name="remarketing_purchased_buttonValue1"
                                                        placeholder="Valor Pix 1" required>
                                                    <input type="text" class="form-control"
                                                        id="remarketing_purchased_buttonLink1"
                                                        name="remarketing_purchased_buttonLink1" placeholder="Link"
                                                        required>
                                                </div>
                                                <div class="bot-buttons-row">
                                                    <input type="text" class="form-control"
                                                        id="remarketing_purchased_buttonName2"
                                                        name="remarketing_purchased_buttonName2"
                                                        placeholder="Nome Bot√£o 2">
                                                    <input type="text" class="form-control"
                                                        id="remarketing_purchased_buttonValue2"
                                                        name="remarketing_purchased_buttonValue2"
                                                        placeholder="Valor Pix 2">
                                                    <input type="text" class="form-control"
                                                        id="remarketing_purchased_buttonLink2"
                                                        name="remarketing_purchased_buttonLink2" placeholder="Link">
                                                </div>
                                                <div class="bot-buttons-row">
                                                    <input type="text" class="form-control"
                                                        id="remarketing_purchased_buttonName3"
                                                        name="remarketing_purchased_buttonName3"
                                                        placeholder="Nome Bot√£o 3">
                                                    <input type="text" class="form-control"
                                                        id="remarketing_purchased_buttonValue3"
                                                        name="remarketing_purchased_buttonValue3"
                                                        placeholder="Valor Pix 3">
                                                    <input type="text" class="form-control"
                                                        id="remarketing_purchased_buttonLink3"
                                                        name="remarketing_purchased_buttonLink3" placeholder="Link">
                                                </div>
                                            </div>
                                            <div id="new_rp_delay" class="tab-pane fade">
                                                <label>Delay (min e seg):</label>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">Min</span>
                                                    </div>
                                                    <input type="number" id="remarketing_purchased_delay_minutes"
                                                        name="remarketing_purchased_delay_minutes" class="form-control"
                                                        min="0" value="30">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">Seg</span>
                                                    </div>
                                                    <input type="number" id="remarketing_purchased_delay_seconds"
                                                        name="remarketing_purchased_delay_seconds" class="form-control"
                                                        min="0" max="59" value="0">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-primary mt-3">Salvar Novo Bot</button>
                            </form>
                            <div id="addBotResponse" class="mt-3"></div>
                        </div>
                    </div>
                </section>

                <!-- Se√ß√£o Configura√ß√µes de Pagamento -->
                <section id="paymentSection" class="d-none">
                    <h3 class="section-title">Configura√ß√µes de Pagamento</h3>
                    <p>Aqui voc√™ pode definir o token da PushinPay utilizado nas cobran√ßas Pix.</p>
                    <div class="card">
                        <div class="card-body">
                            <form id="paymentSettingForm" method="POST" action="/admin/payment-setting">
                                <div class="form-group">
                                    <label for="pushinToken">PushinPay Token:</label>
                                    <div class="input-group">
                                        <input type="password" id="pushinToken" name="pushinToken" class="form-control"
                                            required />
                                        <div class="input-group-append">
                                            <span class="input-group-text" id="togglePushinToken">&#128065;</span>
                                        </div>
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-primary">Salvar Token</button>
                                <div id="paymentSettingResponse" class="mt-2"></div>
                            </form>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <!-- Modal de Data Personalizada -->
    <div class="modal fade" id="customDateModal" tabindex="-1" role="dialog" aria-labelledby="customDateModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="customDateModalLabel">Selecione o Per√≠odo</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Fechar">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="customDateForm">
                        <div class="form-group">
                            <label for="startDateInput">Data de In√≠cio</label>
                            <input type="date" class="form-control" id="startDateInput" required>
                        </div>
                        <div class="form-group">
                            <label for="endDateInput">Data Final</label>
                            <input type="date" class="form-control" id="endDateInput" required>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="applyCustomDateBtn">Aplicar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/js/dashboard.js"></script>
    <script>
        (function () {
            var sidebar = document.getElementById("sidebar");
            var mainContent = document.getElementById("mainContent");
            var toggleBtn = document.getElementById("toggleSidebarBtn");
            var fixedToggleBtn = document.getElementById("fixedToggleBtn");

            if (fixedToggleBtn) {
                fixedToggleBtn.addEventListener("click", function () {
                    if (sidebar.classList.contains("open")) {
                        sidebar.classList.remove("open");
                        mainContent.classList.remove("dimmed");
                    } else {
                        sidebar.classList.add("open");
                        mainContent.classList.add("dimmed");
                    }
                });
            }

            document.addEventListener("click", function (e) {
                if (window.innerWidth < 768) {
                    if (!sidebar.contains(e.target) && !fixedToggleBtn.contains(e.target)) {
                        sidebar.classList.remove("open");
                        mainContent.classList.remove("dimmed");
                    }
                }
            });
        })();
    </script>
</body>

</html>